<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Analisador de Cores Mobile</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>üé® Analisador de Cores</h1>
            <p>An√°lise precisa com CIELAB</p>
        </div>

        <div class="card upload-section">
            <input type="file" id="imageInput" class="file-input" accept="image/*" capture="environment">
            <button id="uploadBtn" class="upload-btn" aria-label="Carregar uma imagem da galeria ou c√¢mera">
                üì± Carregar Imagem
            </button>
            
            <div class="image-container hidden" id="imageContainer">
                <img id="uploadedImage" class="uploaded-image" alt="Imagem carregada">
                <div class="color-picker hidden" id="colorPicker">
                    <div class="coordinates" id="coordinates">x: 0, y: 0</div>
                </div>
                <div class="magnifier hidden" id="magnifier">
                    <canvas id="magnifierCanvas"></canvas>
                </div>
            </div>
        </div>

        <section class="card color-info hidden" id="colorInfo">
            <div class="color-preview" id="colorPreview"></div>
            <div class="color-values">
                <div class="color-value">
                    <strong>RGB</strong><br>
                    <span id="rgbValue">-</span>
                </div>
                <div class="color-value">
                    <strong>HEX</strong><br>
                    <span id="hexValue">-</span>
                </div>
                <div class="color-value">
                    <strong>L*</strong><br>
                    <span id="labL">-</span>
                </div>
                <div class="color-value">
                    <strong>a*</strong><br>
                    <span id="labA">-</span>
                </div>
                <div class="color-value">
                    <strong>b*</strong><br>
                    <span id="labB">-</span>
                </div>
                <div class="color-value">
                    <strong>ŒîE (2000)</strong><br>
                    <span id="deltaE">-</span>
                </div>
            </div>
            
            <div class="settings-group">
                <div class="settings-item">
                    <label for="illuminantSelect">Iluminante:</label>
                    <select id="illuminantSelect" class="settings-select">
                        <option value="D65" selected>Luz do Dia (D65)</option>
                        <option value="A">Tungst√™nio (A)</option>
                        <option value="F2">Fluorescente (F2)</option>
                    </select>
                    <span class="info-tooltip" title="Selecione o tipo de luz do ambiente para um c√°lculo CIELAB mais preciso.">‚ìò</span>
                </div>
                <div class="settings-item">
                    <label for="sampleSizeSelect">Amostra:</label>
                    <select id="sampleSizeSelect" class="settings-select">
                        <option value="1">1x1 Pixel</option>
                        <option value="3">3x3 Pixel</option>
                        <option value="5" selected>5x5 Pixel</option>
                        <option value="9">9x9 Pixel</option>
                    </select>
                    <span class="info-tooltip" title="Selecione o tamanho da √°rea para a m√©dia da cor. √Åreas maiores s√£o melhores para texturas.">‚ìò</span>
                </div>
            </div>

            <div class="action-buttons">
                <button id="saveStandardBtn" class="btn btn-primary" aria-label="Salvar cor como padr√£o">
                    üìå Salvar Padr√£o
                </button>
                <button id="captureColorBtn" class="btn btn-secondary" aria-label="Registrar cor capturada">
                    üìä Registrar Cor
                </button>
            </div>
        </section>

        <section class="card standards-section">
            <div class="standards-title">Padr√µes Salvos</div>
            <div class="standards-grid" id="standardsGrid">
                <!-- Padr√µes aparecer√£o aqui -->
            </div>
            <button id="deleteStandardBtn" class="btn btn-danger hidden" aria-label="Deletar padr√£o selecionado">
                üóëÔ∏è Deletar Padr√£o
            </button>
            <div class="info-panel">
                <strong>üí° Dica:</strong> Toque em um padr√£o para calcular a diferen√ßa ŒîE (Delta E) com a cor atual selecionada.
            </div>
        </section>

        <section class="card">
            <div class="standards-title">Registro de Cores</div>
            <div class="table-container">
                <table class="results-table">
                    <thead>
                        <tr>
                            <th>Cor</th>
                            <th>Padr√£o</th>
                            <th>L*</th>
                            <th>a*</th>
                            <th>b*</th>
                            <th>RGB</th>
                            <th>HEX</th>
                            <th>ŒîE</th>
                            <th>A√ß√£o</th>
                        </tr>
                    </thead>
                    <tbody id="resultsTableBody">
                        <!-- Resultados aparecer√£o aqui -->
                    </tbody>
                </table>
            </div>
        </section>
    </div>

    <script src="script.js"></script>
</body>
</html>
