<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Analisador de Cores Mobile</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>Analisador de Cores</h1>
            <p>Análise precisa com CIELAB</p>
        </div>
        <div class="settings-group">
            <div class="settings-item">
                <label for="illuminantSelect">Iluminante:</label>
                <select id="illuminantSelect" class="settings-select">
                    <option value="D65" selected>Luz do Dia (D65)</option>
                    <option value="A">Tungstênio (A)</option>
                    <option value="F2">Fluorescente (F2)</option>
                </select>
                <span class="info-tooltip" title="Selecione o tipo de luz do ambiente para um cálculo CIELAB mais preciso.">ⓘ</span>
            </div>
            <div class="settings-item">
                <label for="sampleSizeSelect">Amostra:</label>
                <select id="sampleSizeSelect" class="settings-select">
                    <option value="1">1x1 Pixel</option>
                    <option value="3">3x3 Pixel</option>
                    <option value="5" selected>5x5 Pixel</option>
                    <option value="9">9x9 Pixel</option>
                </select>
                <span class="info-tooltip" title="Selecione o tamanho da área para a média da cor. Áreas maiores são melhores para texturas.">ⓘ</span>
            </div>
        </div>

        <div class="card upload-section">
            <input type="file" id="imageInput" class="file-input" accept="image/*" capture="environment">
            <button id="uploadBtn" class="upload-btn" aria-label="Carregar uma imagem da galeria ou câmera">
                Carregar Imagem
            </button>
            
            <div class="image-container hidden" id="imageContainer">
                <img id="uploadedImage" class="uploaded-image" alt="Imagem carregada">
                <div class="color-picker hidden" id="colorPicker">
                    <div class="coordinates" id="coordinates">x: 0, y: 0</div>
                </div>
                <div class="magnifier hidden" id="magnifier">
                    <canvas id="magnifierCanvas"></canvas>
                </div>
            </div>
        </div>

        <section class="card color-info hidden" id="colorInfo">
            <div class="color-preview" id="colorPreview"></div>
            <div class="color-values">
                <div class="color-value">
                    <strong>RGB</strong><br>
                    <span id="rgbValue">-</span>
                </div>
                <div class="color-value">
                    <strong>HEX</strong><br>
                    <span id="hexValue">-</span>
                </div>
                <div class="color-value">
                    <strong>L*</strong><br>
                    <span id="labL">-</span>
                </div>
                <div class="color-value">
                    <strong>a*</strong><br>
                    <span id="labA">-</span>
                </div>
                <div class="color-value">
                    <strong>b*</strong><br>
                    <span id="labB">-</span>
                </div>
                <div class="color-value">
                    <strong>ΔE (2000)</strong><br>
                    <span id="deltaE">-</span>
                </div>
            </div>
            
          

            <div class="action-buttons">
                <button id="saveStandardBtn" class="btn btn-primary" aria-label="Salvar cor como padrão">
                    Salvar Padrão
                </button>
                <button id="captureColorBtn" class="btn btn-secondary" aria-label="Registrar cor capturada">
                    Registrar Cor
                </button>
            </div>
        </section>

        <section class="card standards-section">
            <div class="standards-title">Padrões Salvos</div>
            <div class="standards-grid" id="standardsGrid">
                <!-- Padrões aparecerão aqui -->
            </div>
            <button id="deleteStandardBtn" class="btn btn-danger hidden" aria-label="Deletar padrão selecionado">
                Deletar Padrão
            </button>
            <div class="info-panel">
                <strong> Dica:</strong> Toque em um padrão para calcular a diferença ΔE (Delta E) com a cor atual selecionada.
            </div>
        </section>

        <section class="card">
            <div class="standards-title">Registro de Cores</div>
            <div class="table-container">
                <table class="results-table">
                    <thead>
                        <tr>
                            <th>Cor</th>
                            <th>Padrão</th>
                            <th>L*</th>
                            <th>a*</th>
                            <th>b*</th>
                            <th>RGB</th>
                            <th>HEX</th>
                            <th>ΔE</th>
                            <th>Ação</th>
                        </tr>
                    </thead>
                    <tbody id="resultsTableBody">
                        <!-- Resultados aparecerão aqui -->
                    </tbody>
                </table>
            </div>
        </section>
    </div>
  


    <script src="script.js"></script>
</body>
</html>
